# Finance Domain Configuration
domain:
  name: "finance"
  description: "Financial documents and reports processing"

# Domain-specific parameters
parameters:
  language: "en"
  min_doc_length: 150
  max_doc_length: 75000
  quality_threshold: 0.8

# Pipeline steps configuration
steps:
  # NeMo Curator steps
  nemo_curator:
    - name: "pii_removal"
      enabled: true
      params:
        remove_phi: false
        anonymize_names: true
        anonymize_dates: false  # Keep financial dates
        anonymize_locations: false
        redact_account_numbers: true
    
    - name: "deduplication"
      enabled: true
      params:
        method: "minhash"
        threshold: 0.85
        ngram_size: 7
    
    - name: "quality_filtering"
      enabled: true
      params:
        min_word_count: 75
        max_word_count: 30000
        remove_duplicates: true

  # DataJuicer steps
  datajuicer:
    - name: "language_filter"
      enabled: true
      params:
        lang: "en"
        min_score: 0.82
    
    - name: "financial_entity_extractor"
      enabled: true
      params:
        extract_ticker_symbols: true
        extract_financial_metrics: true
        extract_currency_amounts: true
    
    - name: "numerical_accuracy_filter"
      enabled: true
      params:
        verify_calculations: true
        check_consistency: true
    
    - name: "perplexity_filter"
      enabled: true
      params:
        max_perplexity: 1800
        model: "finbert"

# Domain-specific quality metrics
quality_metrics:
  - "financial_term_coverage"
  - "numerical_consistency"
  - "reporting_standard_compliance"
  - "ticker_symbol_accuracy"

# Special handling
special_handling:
  preserve_numbers: true
  preserve_currency_symbols: true
  preserve_percentages: true
  preserve_financial_terms: true
  preserve_ticker_symbols: true
  gdpr_compliance: true
