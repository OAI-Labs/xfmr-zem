name: nemo_real_curator_demo

servers:
  io: ../../src/xfmr_zem/servers/io/server.py
  nemo: ../../src/xfmr_zem/servers/nemo_curator/server.py

pipeline:
  # 1. Load data with messy unicode and duplicates
  - io.load_parquet:
      input:
        path: "data/dup_data_large.parquet"
        return_reference: true
  
  # 2. Xử lý Unicode chuẩn NeMo (sử dụng UnicodeReformatter thực tế)
  - nemo.unicode_normalization: {}

  # 3. Khử trùng lặp chuẩn NeMo (sử dụng logic Exact Deduplication Identification)
  - nemo.exact_deduplication:
      input:
        use_gpu: true # Sẽ tự động fallback CPU nếu là Pascal (1080 Ti)
        text_column: "text"

  # 4. Lưu kết quả
  - io.save_parquet:
      input:
        path: "data/nemo_real_result.parquet"
