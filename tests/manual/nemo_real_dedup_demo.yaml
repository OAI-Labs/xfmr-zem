name: nemo_real_dedup_demo

servers:
  io: ../../src/xfmr_zem/servers/io/server.py
  nemo: ../../src/xfmr_zem/servers/nemo_curator/server.py

pipeline:
  # 1. Load data with duplicates
  - io.load_parquet:
      input:
        path: "data/dup_data_large.parquet"
        return_reference: true
  
  # 2. Thực hiện Exact Deduplication (sử dụng thư viện NeMo Curator thực tế)
  - nemo.exact_deduplication:
      input:
        use_gpu: true # KÍCH HOẠT GPU THỰC TẾ
        id_column: "id"
        text_column: "text"
      
  # 3. Lưu kết quả
  - io.save_parquet:
      input:
        path: "data/dup_cleaned.parquet"
